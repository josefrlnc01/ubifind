// i18n.js - Shared translation system
export const translations = {
    es: {
       appName: 'Ubifind',
       loginTitle: 'Inicio de sesión',
       email: 'Email',
       password: 'Contraseña',
       invalidEmail: 'Debes introducir un email válido',
       userPerfil: 'Perfil de usuario',
       changePassword: 'Cambiar Contraseña',
       lastPassword: 'Escribe tu antigua contraseña',
       newPassword: 'Escribe tu nueva contraseña',
       confirmPassword: 'Escribe de nuevo tu nueva contraseña',
       passwordChanged : 'Contraseña cambiada correctamente',
       fillFields: 'Debes rellenar los campos',
       samePassword: 'La nueva contraseña tiene que ser distinta a la anterior',
       passwordsDontMatch: 'Las contraseñas no coinciden',
       deleteAccount: 'Eliminar cuenta',
       premiumTitle: 'Premium',
      
       preferences: 'Preferencias de la app',
       theme: 'Tema claro/oscuro',
       privacityAndSecurity: 'Privacidad y seguridad',
       politicy: 'Política de privacidad',
       termsAndConditions: 'Términos y condiciones',
       help: 'Ayuda y soporte',
       contact: 'Contacto',
       report: 'Reportar un problema',
       privatedCreatedsPlaces: 'Mis lugares creados privados',
       publicCreatedsPlaces: 'Mis lugares creados publicos',
       logOut: 'Cerrar sesión',
       nameForm: 'Nombre',
       rateForm: 'Valoración personal (1 a 5)',
       commentForm: 'Una frase o texto que describa el lugar',
       public: '¿Quieres que el lugar sea público? Marca esta casilla',
       saveForm: 'Guardar',
       cancelForm: 'Cancelar',
       viewOnMap: 'Ver en mapa',
       deleteCard: 'Eliminar',
       share: 'Compartir',
       resolution: 'Resolución de problemas',
       problemType: 'Tipo de problema',
       selectProblem: 'Selecciona un problema',
       loginProblem: 'Problemas al iniciar sesión',
       emailProblem: 'No recibo correos',
       mapProblem: 'Error con el mapa o ubicación',
       favoritesProblem: 'Problemas con favoritos',
       account: 'Gestión de cuenta',
       other: 'Otro',
       details: 'Describe tu problema',
       submit: 'Enviar',
       formName: 'Nombre',
       formEmail: 'Email',
       formMessage: 'Escribe aquí tu mensaje: ',
       // SweetAlert translations
       confirmButtonText: 'Aceptar',
       cancelButtonText: 'Cancelar',
       deleteConfirmTitle: '¿Estás seguro?',
       deleteConfirmText: 'Esta acción no se puede deshacer',
       deleteConfirmButton: 'Sí, eliminar',
       deleteCancelButton: 'Cancelar',
       confirmTitle: '¡ A crear un nuevo lugar !',
       confirmText: 'Presiona sobre la zona del mapa en la que quieras crear el lugar',
       confirmButton: '¡ Vamos !',
       cancelCreation: 'Cancelar modo de creación',
       
    },
    en: {
        userPerfil: 'User profile',
        changePassword: 'Change password',
        lastPassword: 'Write your old password',
        newPassword: 'Write your new password',
        confirmPassword: 'Write your new password again',
        passwordChanged: 'Password changed successfully',
        fillFields: 'You must fill in the fields',
        samePassword: 'The new password must be different from the previous one',
        passwordsDontMatch: 'Passwords do not match',
        errorOccurred: 'An error occurred',
        deleteAccount: 'Delete account',
        premiumTitle: 'Premium',
       preferences: 'App preferences',
       theme: 'Light/dark theme',
       privacityAndSecurity: 'Privacy and security',
       politicy: 'Privacy policy',
       termsAndConditions: 'Terms and conditions',
       help: 'Help and support',
       contact: 'Contact',
       report: 'Report a problem',
       privatedCreatedsPlaces: 'My private created places',
       publicCreatedsPlaces: 'My public created places',
       logOut: 'Log out',
       nameForm: 'Name',
       rateForm: 'Personal rating (1 to 5)',
       commentForm: 'A phrase or text that describes the place',
       public: 'Do you want the place to be public? Check this box',
       saveForm: 'Save',
       cancelForm: 'Cancel',
       viewOnMap: 'View on map',
       deleteCard: 'Delete',
       share: 'Share',
       lastPassword: 'Write your old password',
       newPassword: 'Write your new password',
       confirmPassword: 'Write your new password again',
       resolution: 'Problem resolution',
       problemType: 'Problem type',
       selectProblem: 'Select a problem',
       loginProblem: 'Problems logging in',
       emailProblem: 'I don\'t receive emails',
       mapProblem: 'Error with the map or location',
       favoritesProblem: 'Problems with favorites',
       account: 'Account management',
       other: 'Other',
       details: 'Describe your problem',
       submit: 'Send',
       formName: 'Name',
       formEmail: 'Email',
       formMessage: 'Write your message here: ',
       // SweetAlert translations
       confirmButtonText: 'OK',
       cancelButtonText: 'Cancel',
       deleteConfirmTitle: 'Are you sure?',
       deleteConfirmText: 'This action cannot be undone',
       deleteConfirmButton: 'Yes, delete',
       deleteCancelButton: 'Cancel',
       confirmTitle: ' Let\'s create a new place !',
       confirmText: 'Press on the area of the map where you want to create the place',
        confirmButton: 'Go !',
        cancelCreation: 'Cancel creation mode',
    },
    fr: {
        userPerfil: 'Profil utilisateur',
changePassword: 'Changer le mot de passe',
lastPassword: 'Entrez votre ancien mot de passe',
newPassword: 'Entrez votre nouveau mot de passe',
confirmPassword: 'Entrez à nouveau votre nouveau mot de passe',
passwordChanged: 'Mot de passe changé avec succès',
fillFields: 'Vous devez remplir les champs',
samePassword: 'Le nouveau mot de passe doit être différent de l’ancien',
passwordsDontMatch: 'Les mots de passe ne correspondent pas',
errorOccurred: 'Une erreur est survenue',
deleteAccount: 'Supprimer le compte',
premiumTitle: 'Premium',
preferences: 'Préférences de l’application',
theme: 'Thème clair/sombre',
privacityAndSecurity: 'Confidentialité et sécurité',
politicy: 'Politique de confidentialité',
termsAndConditions: 'Termes et conditions',
help: 'Aide et support',
contact: 'Contact',
report: 'Signaler un problème',
privatedCreatedsPlaces: 'Mes lieux privés créés',
publicCreatedsPlaces: 'Mes lieux publics créés',
logOut: 'Se déconnecter',
nameForm: 'Nom',
rateForm: 'Évaluation personnelle (1 à 5)',
commentForm: 'Une phrase ou un texte qui décrit le lieu',
public: 'Voulez-vous que le lieu soit public ? Cochez cette case',
saveForm: 'Enregistrer',
cancelForm: 'Annuler',
viewOnMap: 'Voir sur la carte',
deleteCard: 'Supprimer',
share: 'Partager',
lastPassword: 'Entrez votre ancien mot de passe',
newPassword: 'Entrez votre nouveau mot de passe',
confirmPassword: 'Entrez à nouveau votre nouveau mot de passe',
resolution: 'Résolution de problème',
problemType: 'Type de problème',
selectProblem: 'Sélectionnez un problème',
loginProblem: 'Problèmes de connexion',
emailProblem: 'Je ne reçois pas d’e-mails',
mapProblem: 'Erreur avec la carte ou la localisation',
favoritesProblem: 'Problèmes avec les favoris',
account: 'Gestion du compte',
other: 'Autre',
details: 'Décrivez votre problème',
submit: 'Envoyer',
formName: 'Nom',
formEmail: 'E-mail',
formMessage: 'Écrivez votre message ici : ',
 // SweetAlert translations
confirmButtonText: 'OK',
cancelButtonText: 'Annuler',
deleteConfirmTitle: 'Êtes-vous sûr ?',
deleteConfirmText: 'Cette action ne peut pas être annulée',
deleteConfirmButton: 'Oui, supprimer',
deleteCancelButton: 'Annuler',
confirmTitle: 'Créons un nouveau lieu !',
confirmText: 'Cliquez sur la zone de la carte où vous souhaitez créer le lieu',
confirmButton: 'Aller !',
cancelCreation: 'Annuler le mode de création',

    }
}
// Get current language
export function getCurrentLanguage() {
    return localStorage.getItem('lang') || 'es';
}

// Apply translations to the current page
export function applyTranslations() {
    let lang = getCurrentLanguage();
    
    // Handle regular translations
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                if (!el.hasAttribute('data-i18n-placeholder')) {
                    el.placeholder = translations[lang][key];
                }
            } else {
                localStorage.setItem('lang', lang);
                el.textContent = translations[lang][key];
            }
        }
    });
    
    // Handle placeholder translations
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        if (translations[lang] && translations[lang][key]) {
            el.placeholder = translations[lang][key];
        }
    });

    document.getElementById('lang-selector').addEventListener('change',(e) => {
        lang = e.target.value;
        localStorage.setItem('lang', lang);
        applyTranslations();
    })
}

// Initialize translations when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    applyTranslations();
});
