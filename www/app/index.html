<html lang="es">

<head>
    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="description"
        content="Ubifind es la red social para exploradores. Crea, descubre y comparte lugares √∫nicos en el mapa." />
    <meta name="keywords" content="Ubifind, lugares, explorar, viajes, mapa, sitios, excursion" />
    <meta property="og:title" content="Ubifind - Explora lugares" />
    <meta property="og:description" content=" Descubre nuevos lugares y crea los tuyos propios üåç" />
    <meta property="og:image" content="images/faviconlogo.ico" />
    <meta property="og:url" content="https://ubifindapp.com/" />
    <meta property="og:type" content="website" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: blob: https:; 
      script-src 'self' 'unsafe-inline' 'unsafe-eval' https://*.googleapis.com https://apis.google.com https://maps.gstatic.com https://js.revenuecat.com https://www.gstatic.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; 
      style-src 'self' 'unsafe-inline' https://*.googleapis.com https://maps.gstatic.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://unpkg.com;
      img-src 'self' data: blob: https: http: *; 
      connect-src 'self' https: http: wss: *;
      frame-src 'self' https://*.google.com https://apis.google.com https://*.revenuecat.com https://new-day-459708.firebaseapp.com https://new-day-459708.web.app https://pagead2.googlesyndication.com https://googleads.g.doubleclick.net https://ep2.adtrafficquality.google *;
      font-src 'self' https: http: data: *;
      worker-src 'self' blob: *;
      script-src-elem 'self' 'unsafe-inline' https://*.googleapis.com https://apis.google.com https://maps.gstatic.com https://js.revenuecat.com https://www.gstatic.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://pagead2.googlesyndication.com https://ep2.adtrafficquality.google https://googleads.g.doubleclick.net *;
      child-src 'self' blob: https: http: *;
      media-src 'self' blob: https: http: data: *;
      object-src 'none';
      base-uri 'self';
      form-action 'self';
      upgrade-insecure-requests;" http-equiv="Content-Security-Policy" />
    <title>Ubifind</title>
    <link rel="icon" type="image/jpg" href="../images/faviconlogo.ico" />
    <link rel="stylesheet" href="../style.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <link href="https://fonts.googleapis.com/css2?family=Galindo&family=Poppins:wght@400;600;700&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.0/lottie.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1639698267501945"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.0/lottie.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <!-- Load Capacitor first -->
    <script src="https://cdn.jsdelivr.net/npm/@capacitor/core@7.3.0/dist/capacitor.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@capacitor/app@7.3.0/dist/plugin.js"></script>

    <!-- Other dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web-animations/2.3.2/web-animations.min.js"></script>

    <!-- Scripts de RevenueCat -->
    <script src="https://cdn.jsdelivr.net/npm/@revenuecat/purchases-js@1.12.1/dist/Purchases.umd.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/shepherd.js@13.0.0/dist/css/shepherd.css" />

    <!-- Shepherd UMD: define window.Shepherd -->
    <script defer src="https://cdn.jsdelivr.net/npm/shepherd.js@13.0.0/dist/js/shepherd.min.js"></script>

    <!-- Initialize global objects -->
    <script>
        // Initialize global objects that need to be available before modules load
        window.googleMapsLoaded = false;
        window.Capacitor = window.Capacitor || {};
        window.Purchases =
            window.Capacitor?.Plugins?.Purchases || window.Purchases;
    </script>

    <!-- Translation system -->
    <script type="module" src="../js/i18n.js"></script>

    <!-- Your application scripts as modules -->
    <script type="module" src="../script.js"></script>
   
    <script type="module" src="../js/interact-places.js"></script>
    <script type="module" src="../js/render-places.js"></script>
    <script type="module" src="../js/map.js"></script>
    <!-- Capacitor platform-specific scripts -->
    <script nomodule src="cordova.js"></script>
    <script nomodule src="capacitor.js"></script>
    <script nomodule src="capacitor-windows.js"></script>
</head>

<body>
    <div class="ring-charge"></div>
    <div class="loader-overlay" id="loader-princ">
        <div class="newplace-spinner">
            <div class="ring"></div>
            <div class="dot"></div>
        </div>
    </div>

    <main class="container">
        <header class="titles" id="header">
            <nav class="header-buttons">
                <div class="settings-container">
                    <!-- Bot√≥n que abre/cierra el men√∫ -->
                    <button id="settings-button">
                        <img class="icono ajustes" alt="icono de ajustes" src="../images/icons8-ajustes-50.webp" />
                        <!-- Puede usar un SVG o fuente de iconos real aqu√≠ -->
                    </button>

                    <!-- Men√∫ desplegable de ajustes -->
                    <ul id="settings-menu" class="settings-dropdown" role="menu" aria-label="Men√∫ de ajustes">
                        <!--  <li style="color: rgb(207, 207, 0);" class="section-title" id="premium-title">Premium</li>
                        <li role="none"><a id="show-premium"  role="menuitem"><span
                            class="icon icon-premium" id="premium-li"> DESCUBRE EL POTENCIAL COMPLETO </span></a></li>
                            -->

                        <li class="section-title" data-i18n="userPerfil">
                            Perfil de usuario
                        </li>

                        <li role="none">
                            <a role="menuitem" href="../resetPass.html" data-i18n="changePassword"><span
                                    class="icon icon-password"></span>Cambiar contrase√±a</a>
                        </li>
                        <li id="delete-account" role="none">
                            <a role="menuitem" data-i18n="deleteAccount" href="#"><span
                                    class="icon icon-delete"></span>Eliminar cuenta</a>
                        </li>
                        <li class="section-title" data-i18n="languageSelect">Idioma</li>
                        <li role="none">
                            <select name="lang" id="lang-selector">
                                <option value="en">English</option>
                                <option value="es">Espa√±ol</option>
                                <option value="fr">Fran√ßais</option>
                                <option value="it">Italiano</option>
                                <option value="de">Deutsch</option>
                                <option value="pt">Portugu√™s</option>
                            </select>
                        </li>
                        <li class="section-title" data-i18n="preferences">
                            Preferencias de la app
                        </li>
                        <li role="none">
                            <a role="menuitem" class="toggle-theme" id="toggle">
                                <div class="toggle-theme-container">
                                    <span data-i18n="theme">Tema claro/oscuro</span>
                                </div>
                            </a>
                        </li>

                        <li class="section-title" data-i18n="privacityAndSecurity">
                            Privacidad y seguridad
                        </li>
                        <li role="none">
                            <a role="menuitem" data-i18n="politicy" id="down-poli"><span
                                    class="icon icon-privacy"></span>Pol√≠tica de
                                privacidad</a>
                        </li>
                        <li role="none">
                            <a role="menuitem" data-i18n="termsAndConditions" id="down-term"><span
                                    class="icon icon-terms"></span>T√©rminos y
                                condiciones</a>
                        </li>
                        <li class="section-title" data-i18n="help">Ayuda y soporte</li>
                        <!--<li role="none"><a role="menuitem" href="#"><span class="icon icon-faq"></span>Preguntas
                            frecuentes</a></li>-->
                        <li role="none">
                            <a role="menuitem" data-i18n="contact" href="../contact.html"><span
                                    class="icon icon-contact"></span>Contacto</a>
                        </li>
                        <li role="none">
                            <a role="menuitem" data-i18n="report" href="../"><span
                                    class="icon icon-report"></span>Reportar problema</a>
                        </li>

                        <li class="section-divider"></li>
                        <!-- separador visual opcional -->
                        <li id="log-out-button" role="none">
                            <a data-i18n="logOut" >
                                Cerrar sesi√≥n
                            </a>
                                
                        </li>
                    </ul>
                </div>
                <button type="button" id="toggle-menu">
                    <img class="icono menu" src="../images/icons8-men√∫-50.webp" />
                </button>
            </nav>
        </header>

        <aside class="principal">
            <div class="map-container" id="map-container">
                <div id="map" loading="lazy"></div>
                
            </div>
        </aside>

        <footer class="footer-btns">
            <button id="home-btn" type="button" class="form-buttons">
                <span><i class="fa fa-home home"></i></span>
            </button>
            <button id="create-place-btn" type="button" class="form-buttons">
                <span><i class="fa fa-pen create"></i></span>
            </button>
            <button id="map-btn" type="button" class="form-buttons">
                <span><i class="fa fa-globe globe"></i></span>
            </button>
        </footer>
    </main>

    <aside id="get-options" class="options-places-panel">
        <div class="panel-header">
            <button id="close-menu" class="panel-btn" title="Cerrar">
                <i class="fas fa-times" style="text-align: center"></i>
            </button>
        </div>

        <div id="container-options">
            <button id="get-createds" class="btn btn-saved">
                <span data-i18n="publicCreatedsPlaces">
                    Mis Lugares Creados P√∫blicos
                </span>
                <i class="fas fa fa-pen"></i>
            </button>
            <button id="get-public-createds" class="btn btn-saved">
                <span data-i18n="privatedCreatedsPlaces">Mis Lugares Creados Privados
                </span>
                <i class="fas fa fa-pen"></i>
            </button>
        </div>
    </aside>
    <aside id="get-createds-sites" class="createds-places-panel">
        <div class="panel-header">
            <div class="panel-actions">
                <button id="close-createds-storage" class="panel-btn" title="Cerrar">
                    <i class="fas fa-times" style="text-align: center"></i>
                </button>
            </div>
        </div>
        <div id="container-created-sites">
            <input type="text" id="search-createds-card" name="search-card" />
            <div id="sites-createds-list" class="places-grid"></div>
        </div>
    </aside>

    <aside id="get-createds-private-sites" class="createds-privates-places-panel">
        <div class="panel-header">
            <div class="panel-actions">
                <button id="close-private-createds-storage" class="panel-btn" title="Cerrar">
                    <i class="fas fa-times" style="text-align: center"></i>
                </button>
            </div>
        </div>
        <div id="container-private-created-sites">
            <input type="text" id="search-createds-private-card" name="search-card" />
            <div id="sites-createds-privates-list" class="places-grid"></div>
        </div>
    </aside>

    <div id="notification-banner" class="notification-banner hidden">
        <span>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="28" height="28" role="img"
                aria-label="Success">
                <title>Success</title>
                <circle cx="12" cy="12" r="10" fill="#10B981" stroke="#0fa46f" stroke-opacity="0.9" stroke-width="1" />
                <path d="M7 13.2l2.6 2.6L17 8.4" fill="none" stroke="#fff" stroke-width="2.2" stroke-linecap="round"
                    stroke-linejoin="round" />
            </svg>
        </span>
        <p id="notification-message" style="text-align: center"></p>
    </div>

    <div id="error-notification-banner" class="error-notification-banner hidden">
        <span>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" role="img"
                aria-label="Error">
                <title>Error</title>
                <circle cx="12" cy="12" r="10" fill="#EF4444" stroke="#dc2626" stroke-opacity="0.9" stroke-width="1" />
                <path d="M9 9l6 6M15 9l-6 6" fill="none" stroke="#fff" stroke-width="2.2" stroke-linecap="round"
                    stroke-linejoin="round" />
            </svg>

        </span>
        <p id="error-notification-message" style="text-align: center"></p>
    </div>
</body>

</html>

